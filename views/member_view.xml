<odoo>
    <record id="view_library_member_list" model="ir.ui.view">
        <field name="name">res.partner.list</field>
        <field name="model">res.partner</field>
        <field name="arch" type="xml">
            <list string="Library Members">
                <field name="member_seq" />
                <field name="name" />
            </list>
        </field>
    </record>

    <record id="view_library_member_form" model="ir.ui.view">
        <field name="name">res.partner.form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form" />
        <field name="arch" type="xml">

            <xpath expr="//field[@name='vat']" position="after">
                    <field name="is_member" widget="button_group" />
            </xpath>


            <xpath expr="//notebook" position="inside">
                <page string="Membership" name="membership" invisible="is_member == False">
                    <!-- groups="acs_library_management.group_lms_manager" -->
                    <group>
                        <button name="payment" type="object" string="Payment" class="oe_highlight"
                            invisible="not show_payment_button" />
                        <button name="renew" type="object" string="Renew" class="oe_highlight"
                            invisible="not show_renew_button" />

                        <field name="joining_duration" />
                        <field name="mfees" />
                        <field name="memb_start_date" />
                        <field name="memb_end_date" />
                    </group>
                </page>
            </xpath>

            <xpath expr="//notebook" position="inside">

                <page string="Book Borrowed" name="book_borrowed" invisible="is_member == False">
                    <group>
                        <group>
                            <separator string="Plan" name="plan" />
                            <button name="pay" type="object" string="Payment" class="oe_highlight"
                                invisible="not show_pay_button" />
                            <field name="plan_name" />
                            <field name="book_plan_price" />
                            <field name="bstart_date" />
                            <field name="bend_date" />
                        </group>
                        <group>
                            <separator string="Book Details" name="book_details" />
                            <group>
                                <button name="due_charge" type="object" string="Due" class="oe_highlight" />
                            </group>

                            <field name="book_ids">
                                <list>
                                    <field name="book_id" />
                                    <field name="issue_date" />
                                    <field name="return_date" />
                                    <field name="total_due" readonly="1" />
                                    <field name="is_returned" />
                                    <field name="last_payment_date" />
                                </list>
                            </field>
                        </group>
                    </group>
                    
                </page>
            </xpath>


        </field>
    </record>

    
    <record id="action_library_member" model="ir.actions.act_window">
        <field name="name">Library Members</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[("is_member","=","true")]</field>
        <field name="view_id" ref="view_library_member_list" />
    </record>
</odoo>